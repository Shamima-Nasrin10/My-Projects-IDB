<!-- src/app/components/order-create/order-create.component.html -->

<h2>Create Order</h2>
<form (ngSubmit)="addOrder()">
  <!-- <div>
    <label for="customerName">Customer Name:</label>
    <input id="customerName" [(ngModel)]="newOrder.customer.name" name="customerName" readonly>
  </div> -->

  <div>
    <label for="product">Product:</label>
    <select id="product" [(ngModel)]="newOrder.product" name="product" (change)="updatePrice()" required>
      <option *ngFor="let product of products" [ngValue]="product">{{ product.name }}</option>
    </select>
  </div>

  <div>
    <label for="quantity">Quantity:</label>
    <input id="quantity" type="number" [(ngModel)]="newOrder.quantity" name="quantity" (input)="updatePrice()" required>
    <div *ngIf="stockError" class="error">Quantity exceeds available stock!</div>
  </div>

  <div>
    <label for="requiredDeliveryDate">Required Delivery Date:</label>
    <input id="requiredDeliveryDate" type="date" [(ngModel)]="newOrder.requiredDeliveryDate" name="requiredDeliveryDate" required>
  </div>

  <div>
    <label for="totalPrice">Total Price:</label>
    <input id="totalPrice" [value]="totalPrice | currency" readonly>
  </div>

  <button type="submit" [disabled]="stockError || !newOrder.product || !newOrder.quantity">Place Order</button>
</form>
